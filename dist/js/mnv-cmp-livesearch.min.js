function ecLiveSearch(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q="mnv-ec-livesearch";return m=q+"-",this.init=function(a){return a.list instanceof Array==!1?(j("list should be an array"),!1):0===a.list.length?(j("list shouldn't be empty"),!1):void 0===a.searchProperty?(j("Provide a searchProperty"),!1):void 0===a.searchProperty?(j("Provide a searchProperty"),!1):(h=document.querySelectorAll("."+q),0===h.length?(j("Unable to find a widget with class "+q),!1):(h=h[0],k=a.list,l=a.searchProperty,i=a.hideOnLeave||!1,b=document.createElement("input"),b.className=m+"input",b.setAttribute("placeholder",a.placeholder),p=document.createElement("button"),p.innerText="X",c=document.createElement("ul"),c.className=m+"list",c.style.display="block",h.appendChild(b),h.appendChild(p),h.appendChild(c),void g()))},d=function(a){var d,g;j("Starting search"),c.style.display="block",c.innerHTML="",d=""===a.trim()?[]:k.filter(function(b){return b[l].indexOf(a)>=0?!0:!1}),0===d.length?c.innerHTML="<li>No results</li>":(g=[],d.map(function(a){var d=document.createElement("li");d.innerHTML=a[l],d.addEventListener("click",function(){b.value=a[l],e.call(h,"resultSelected",a),f(!1)}),c.appendChild(d)}))},e=function(a,b){if(window.CustomEvent)var c=new CustomEvent(a,{detail:b});else{var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!0,!0,b)}this.dispatchEvent(c)},j=function(a){window.console&&window.console.log&&console.log(a)},f=function(a){a===!0&&(b.value=""),c.innerHTML="",c.style.display="none"},g=function(){b.addEventListener("keyup",function(){var a=this.value.trim();clearTimeout(n),n=window.setTimeout(function(){d(a)},500)}),b.addEventListener("focus",function(){b.value=""}),i&&c.addEventListener("mouseleave",function(){clearTimeout(o),o=window.setTimeout(function(){f()},1e3)}),p.addEventListener("click",function(){f(!0)})},a?void this.init(a):(j("You have to provide a config object"),!1)}var ecLiveSearchConfig={config:{bundle:{assets:{version:"testLiveSearch001",host:"cdn.static-economist.com"},data:{version:"testLiveSearch001","url[THIS-OVERWRITE-HOST-IN-JSON-JSONP-BUNDLE]":"http://YOUR-JSON-URL",host:"localhost:3000/projects/ec-livesearch","host[PRODUCTION-RENAME-TO-HOST]":"cdn.static-economist.com",provider:"None"}}},minerva:{name:"LiveSearch",ns:{js:"ecLiveSearch",css:"ec-livesearch",folder:"ec-livesearch"},description:"Provide a live search input field",version:"0.1.0",debugMode:!0,"private":!0,homepage:"https://github.com/the-economist-editorial/minerva",author:{name:"Umberto Babini",email:"umbertobabini@economist.com"},dependencies:{"grunt-browser-sync":"^1.5.3","grunt-contrib-concat":"~0.3.0","grunt-contrib-jasmine":"0.5.1","grunt-contrib-jshint":"0.6.4","grunt-contrib-uglify":"~0.2.4","grunt-contrib-watch":"^0.6.1","grunt-githooks":"~0.2.0","grunt-handlebars-compiler":"0.0.7","grunt-sass":"0.6.0","grunt-shell":"~0.5.0","grunt-usemin":"~0.1.12","grunt-criticalcss":"^0.5.0"},engines:{node:">=0.8.0"}}};